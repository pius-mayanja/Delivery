{% extends 'jumia/base.html'%}
{% block title%} {{item.name}} {% endblock %}
{% block content %}
{% load humanize %}
<h1 class="text-center py-4 text-5xl font-bold">PRODUCT DETAILS</h1>
<div class="container-fluid py-5">
    <div class="row px-xl-5">
        <div class="col-lg-4 pb-5">
            <div id="product-carousel" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner border">
                    <div class="carousel-item active">
                        <img class="w-full" src="{{item.image.url}}" alt="Image">
                    </div>
                   
                    
                </div>
            </div>
        </div>
        <div class="col-lg-8 pb-5">
            <h3 class="font-weight-semi-bold text-4xl">{{item.name}}</h3>
            <div class="d-flex mb-3">
                <div class="text-primary mr-2">
                    <small class="fas fa-star"></small>
                    <small class="fas fa-star"></small>
                    <small class="fas fa-star"></small>
                    <small class="fas fa-star-half-alt"></small>
                    <small class="far fa-star"></small>
                </div>
                <small class="pt-1">(50 Reviews)</small>
            </div>
            <h3 class="font-weight-semi-bold mb-4">shs. {{item.price|intcomma}}</h3>
            <p class="mb-4">From the iconic checkerboard slip-on to the legendary Old Skool, Vans offers timeless styles for men, women, and kids.  Built with comfort and durability in mind, Vans are perfect for skating, everyday wear, or expressing your unique style.  Shop their wide variety of colors, patterns, and materials to find the perfect Vans for you.</p>
            <div class="flex items-center">
                <div class="quantity-controls inline-block">
                    <button type="button" class="btn btn-success" onclick="decreaseQuantity()">-</button>
                    <span id="quantityDisplay" class="mr-2 ml-2">1</span>  <!-- Display the quantity -->
                    <button type="button" class="btn btn-success" onclick="increaseQuantity()">+</button>
                </div>
                <form action="{% url 'cart:cart_add' item.id %}" method="post" class="ml-3 inline-block">
                    {% csrf_token %}
                    <input type="hidden"  name="quantity" id="quantity" value="1">  <!-- Hidden input field for quantity -->
                    <input type="hidden" name="override" value="False">
                    <button type="submit" class="btn btn-danger px-3"><i class="fa fa-shopping-cart mr-1"></i> Add To Cart</button>
                </form>
                <a href="{% url 'chart:new' item.id %}"><button class="btn btn-success px-4 border ml-2 text-bold">Contact Seller</button></a>
            </div>
        </div>
    </div>
</div>
<h2 class="text-center py-4 text-3xl font-bold"> Related items</h2>
<div class="flex flex-wrap">
    {% for item in related_items %}
    <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4">
      <div class="bg-white rounded-lg shadow-md">
       <a href="{% url 'jumia:detail' item.id %}">
        <div class="p-4">
          <img src="{{item.image.url}}" alt="Product 1" class="w-full h-auto rounded-md mb-4">
          <h2 class="text-lg font-semibold text-gray-800 mb-2">{{item.name}}</h2>
          <p class="text-sm text-gray-600">Price: shs.{{item.price}}</p>
        </div>
       </a>
      </div>
    </div>
    {% endfor %}
</div>
<script>
    function decreaseQuantity() {
        var quantityDisplay = document.getElementById('quantityDisplay');
        var quantityInput = document.getElementById('quantity');
        var currentValue = parseInt(quantityDisplay.innerText);
        if (currentValue > 1) {
            quantityDisplay.innerText = currentValue - 1;
            quantityInput.value = currentValue - 1;  // Update the hidden input field
        }
    }

    function increaseQuantity() {
        var quantityDisplay = document.getElementById('quantityDisplay');
        var quantityInput = document.getElementById('quantity');
        var currentValue = parseInt(quantityDisplay.innerText);
        quantityDisplay.innerText = currentValue + 1;
        quantityInput.value = currentValue + 1;  // Update the hidden input field
    }
</script>
{% endblock %} 